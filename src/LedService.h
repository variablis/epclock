#include <HTTPClient.h>
#include <FastLED.h>
#include <ArduinoJson.h>

#define NUM_LEDS 144 // leds in ledstrip
#define DATA_PIN 15
#define LED_COUNT 48 // 48hrs of data in json

class LedService {
    CRGB leds[NUM_LEDS];
    unsigned long stime1, stime2, stime3;

    int ledc[6] = {CRGB::Black, CRGB::Blue, CRGB::Green, CRGB::Yellow, CRGB::OrangeRed, CRGB::Red};

    String payload = "{ \"data\":[{ \"time\":\"2030-01-01 00:00:00\",\"led\":1},{ \"time\":\"2030-01-01 00:00:00\",\"led\":1},{ \"time\":\"2030-01-01 00:00:00\",\"led\":2},{ \"time\":\"2030-01-01 00:00:00\",\"led\":3},{ \"time\":\"2030-01-01 00:00:00\",\"led\":4},{ \"time\":\"2030-01-01 00:00:00\",\"led\":5},{ \"time\":\"2030-01-01 00:00:00\",\"led\":1},{ \"time\":\"2030-01-01 00:00:00\",\"led\":1},{ \"time\":\"2030-01-01 00:00:00\",\"led\":2},{ \"time\":\"2030-01-01 00:00:00\",\"led\":3},{ \"time\":\"2030-01-01 00:00:00\",\"led\":4},{ \"time\":\"2030-01-01 00:00:00\",\"led\":5},{ \"time\":\"2030-01-01 00:00:00\",\"led\":1},{ \"time\":\"2030-01-01 00:00:00\",\"led\":1},{ \"time\":\"2030-01-01 00:00:00\",\"led\":2},{ \"time\":\"2030-01-01 00:00:00\",\"led\":3},{ \"time\":\"2030-01-01 00:00:00\",\"led\":4},{ \"time\":\"2030-01-01 00:00:00\",\"led\":5},{ \"time\":\"2030-01-01 00:00:00\",\"led\":1},{ \"time\":\"2030-01-01 00:00:00\",\"led\":1},{ \"time\":\"2030-01-01 00:00:00\",\"led\":2},{ \"time\":\"2030-01-01 00:00:00\",\"led\":3},{ \"time\":\"2030-01-01 00:00:00\",\"led\":4},{ \"time\":\"2030-01-01 00:00:00\",\"led\":5},{ \"time\":\"2030-01-01 00:00:00\",\"led\":1},{ \"time\":\"2030-01-01 00:00:00\",\"led\":1},{ \"time\":\"2030-01-01 00:00:00\",\"led\":2},{ \"time\":\"2030-01-01 00:00:00\",\"led\":3},{ \"time\":\"2030-01-01 00:00:00\",\"led\":4},{ \"time\":\"2030-01-01 00:00:00\",\"led\":5},{ \"time\":\"2030-01-01 00:00:00\",\"led\":1},{ \"time\":\"2030-01-01 00:00:00\",\"led\":1},{ \"time\":\"2030-01-01 00:00:00\",\"led\":2},{ \"time\":\"2030-01-01 00:00:00\",\"led\":3},{ \"time\":\"2030-01-01 00:00:00\",\"led\":4},{ \"time\":\"2030-01-01 00:00:00\",\"led\":5},{ \"time\":\"2030-01-01 00:00:00\",\"led\":1},{ \"time\":\"2030-01-01 00:00:00\",\"led\":1},{ \"time\":\"2030-01-01 00:00:00\",\"led\":2},{ \"time\":\"2030-01-01 00:00:00\",\"led\":3},{ \"time\":\"2030-01-01 00:00:00\",\"led\":4},{ \"time\":\"2030-01-01 00:00:00\",\"led\":5},{ \"time\":\"2030-01-01 00:00:00\",\"led\":1},{ \"time\":\"2030-01-01 00:00:00\",\"led\":1},{ \"time\":\"2030-01-01 00:00:00\",\"led\":2},{ \"time\":\"2030-01-01 00:00:00\",\"led\":3},{ \"time\":\"2030-01-01 00:00:00\",\"led\":4},{ \"time\":\"2030-01-01 00:00:00\",\"led\":5}]}";
    StaticJsonDocument<4096> doc;

    public:
        LedService();
        void setup();
        void updateLeds();
        void getJson();
};
